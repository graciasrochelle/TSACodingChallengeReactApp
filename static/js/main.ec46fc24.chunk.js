(this["webpackJsonpcontact-app"]=this["webpackJsonpcontact-app"]||[]).push([[0],{23:function(e,a,t){},25:function(e,a,t){e.exports=t.p+"static/media/loading.466ec83d.gif"},34:function(e,a,t){e.exports=t(49)},40:function(e,a,t){},41:function(e,a,t){},48:function(e,a,t){},49:function(e,a,t){"use strict";t.r(a);t(35);var n=t(0),r=t.n(n),c=t(11),l=t.n(c),o=(t(40),t(3));t(41);var s=function(){return r.a.createElement("header",null,r.a.createElement("nav",{className:"navbar navbar-expand-md navbar-dark fixed-top bg-dark justify-content-center"},r.a.createElement("a",{className:"navbar-brand",href:"/"},r.a.createElement("h1",{className:"text-center"},"Coding Challenge"))))};var m=function(){return r.a.createElement("footer",{className:"py-1 bg-dark text-white"},r.a.createElement("h5",{className:"text-center"},"Website by Rochelle Gracias"))},i=(t(23),t(25)),u=t.n(i);var d=function(){return r.a.createElement("div",{className:"col-9 mx-auto col-md-6 col-lg-3 my-3 align-self-center "},r.a.createElement("img",{alt:"loading...",src:u.a}))},p=t(12),E=t.n(p),f=t(10),h=t(18),v={displayContactDetails:["Full Name","Email","Phone Numbers"],contacts:[{id:"4D050C00-661E-492A-928E-631682BE6505",email:"rper1001@mit.edu",fullName:"radia perlman",phoneNumbers:["0488445688","+61488224568","0393337119"]},{id:"DD7B7510-92CB-4F21-A054-BE7B7DAC126C",email:"alex@bell-labs.com",fullName:"Alex Bell",phoneNumbers:["0385786688","1800728069"]},{id:"864653FF-C040-4E1A-BD75-6AEDC749C83E",fullName:"fredrik IDESTAM",phoneNumbers:["+6139888998"]}]};function b(){return(b=Object(h.a)(E.a.mark((function e(a){var t,n;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("".concat("https://ec2-3-25-144-195.ap-southeast-2.compute.amazonaws.com:10010/api/contacts"));case 3:if(!(t=e.sent).ok){e.next=11;break}return e.next=7,t.json();case 7:n=e.sent,a({data:n,isLoading:!1}),e.next=13;break;case 11:alert("Using mock data!"),a({isLoading:!1,data:v});case 13:e.next=18;break;case 15:e.prev=15,e.t0=e.catch(0),console.error(e.t0);case 18:case"end":return e.stop()}}),e,null,[[0,15]])})))).apply(this,arguments)}function N(e){var a=Object(n.useState)(e),t=Object(f.a)(a,2),r=t[0],c=t[1];return Object(n.useEffect)((function(){setTimeout((function(){!function(e){b.apply(this,arguments)}(c)}),1e3)}),[r]),r}var g=function(){var e=Object(h.a)(E.a.mark((function e(a){var t,n,r,c;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=new AbortController,n=t.signal,setTimeout((function(){t.abort()}),1e3),e.prev=3,r=!1,c=fetch("".concat("https://ec2-3-25-144-195.ap-southeast-2.compute.amazonaws.com:10010/api/contacts"),{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify(a)},{signal:n}).then((function(e){return e.json()})).then((function(){return r=!!c.ok})),e.abrupt("return",r);case 9:e.prev=9,e.t0=e.catch(3),console.error(e.t0);case 12:case"end":return e.stop()}}),e,null,[[3,9]])})));return function(a){return e.apply(this,arguments)}}(),y=t(26),j=t(52),x=t(51);function C(e){var a=e.data.displayContactDetails,t=a.length,n=e.data.contacts;return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"container m-12"},r.a.createElement(y.a,{responsive:!0,striped:!0,bordered:!0,hover:!0},r.a.createElement("thead",null,r.a.createElement("tr",null,a.map((function(e,a){return r.a.createElement("th",{key:a},e)})))),r.a.createElement("tbody",null,n&&n.length>0?n.map((function(e,a){return r.a.createElement("tr",{key:e.id},r.a.createElement("td",{key:a},e.fullName),r.a.createElement("td",{key:a},e.email?e.email:"---"),r.a.createElement("td",{key:a},e.phoneNumbers&&e.phoneNumbers.join(" || ")))})):r.a.createElement("tr",null,r.a.createElement("td",{colspan:t},r.a.createElement(j.a,{key:"no-content",variant:"info"},"No Content"))),r.a.createElement("tr",null,r.a.createElement("td",{colSpan:t,className:"align-contents"},r.a.createElement(x.a,{variant:"primary",className:"px-4",href:"/TSACodingChallengeReactApp/#/addContact"},"Add new contact")))))))}var k=function(e){var a;return e.apiEndpoint&&(a=N({isLoading:!0,data:null})),a&&a.isLoading&&!a.data?r.a.createElement(d,null):a&&a.data&&!a.isLoading&&r.a.createElement(C,{data:a.data})};var w=function(){var e=Object(o.f)();return r.a.createElement("div",null,r.a.createElement("h3",null,"No match for ",r.a.createElement("code",null,e.pathname)))};t(48);var O=function(e){var a=Object(n.useState)(e),t=Object(f.a)(a,2),r=t[0],c=t[1];return{value:r,setValue:c,reset:function(){return c(e)},bind:{value:r,onChange:function(e){c(e.target.value)}}}},S=function(e){var a=Object(n.useState)(e),t=Object(f.a)(a,2),r=t[0],c=t[1];return{value:r,setValue:c,reset:function(){return c([])},bind:{value:r,onChange:function(e){var a=e.target.value,t=[];a&&(t=a.split(",")),c(t)}}}},A=function(e){var a=O(""),t=a.value,c=a.bind,l=a.reset,o=O(""),s=o.value,m=o.bind,i=o.reset,u=S([]),d=u.value,p=u.bind,E=u.reset,h=Object(n.useState)({}),v=Object(f.a)(h,2),b=v[0],N=v[1],y=Object(n.useState)(!1),C=Object(f.a)(y,2),k=C[0],w=C[1];return r.a.createElement(r.a.Fragment,null,r.a.createElement(j.a,{key:"request",variant:"info"},"New Contact Details: ",JSON.stringify(b)),r.a.createElement("form",{className:"form-container",onSubmit:function(e){e.preventDefault();var a={email:s,fullName:t,phoneNumbers:d};if(d){for(var n=new RegExp("^[+]*[(]{0,1}[0-9]{1,4}[)]{0,1}[-s./0-9]*$"),r=0;r<d.length;r++)d[r].match(n)?w(!0):w(!1);k&&(N({reqt:a}),g(a),i(),l(),E())}}},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-sm-3 col-md-4"},r.a.createElement("label",{htmlFor:"subject"},"Full Name")),r.a.createElement("div",{className:"col-sm-3 col-md-6"},r.a.createElement("input",Object.assign({id:"name",type:"text"},c,{required:!0,placeholder:"Enter full name"})))),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-sm-3 col-md-4"},r.a.createElement("label",{htmlFor:"subject"},"Email (Optional)")),r.a.createElement("div",{className:"col-sm-3 col-md-6"},r.a.createElement("input",Object.assign({id:"email",type:"text"},m,{placeholder:"Enter email address"})))),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-sm-3 col-md-4"},r.a.createElement("label",{htmlFor:"subject"},"Phone Numbers")),r.a.createElement("div",{className:"col-sm-3 col-md-6"},r.a.createElement("textarea",Object.assign({id:"phoneNumber"},p,{placeholder:"Enter phone numbers",required:!0})),r.a.createElement(j.a,{key:"errPhoneNum",variant:"danger"},"Series of phone numbers should be comma separated (AU Format)"))),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-6"},r.a.createElement(x.a,{variant:"secondary",className:"px-5",href:"/"},"Cancel")),r.a.createElement("div",{className:"col-md-6"},r.a.createElement(x.a,{variant:"primary",className:"px-5",type:"submit"},"Save Changes")))))};var D=function(){return r.a.createElement("div",null,r.a.createElement(s,null),r.a.createElement("div",{className:"content"},r.a.createElement(o.c,null,r.a.createElement(o.a,{exact:!0,path:"/"},r.a.createElement(k,{apiEndpoint:"/"})),r.a.createElement(o.a,{path:"/addContact"},r.a.createElement(A,{apiEndpoint:"/contact"})),r.a.createElement(o.a,{path:"*"},r.a.createElement(w,null)))),r.a.createElement(m,null))},F=t(13);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(r.a.createElement(F.a,{basename:"".concat("/TSACodingChallengeReactApp","/")},r.a.createElement(r.a.StrictMode,null,r.a.createElement(D,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[34,1,2]]]);
//# sourceMappingURL=main.ec46fc24.chunk.js.map